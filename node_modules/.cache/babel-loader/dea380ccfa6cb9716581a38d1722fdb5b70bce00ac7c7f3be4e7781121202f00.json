{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-50342ac4\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"discussion-board\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", {\n  class: \"text-2xl font-bold mb-4\"\n}, \"Discussion\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"messages mb-4\"\n};\nconst _hoisted_4 = {\n  class: \"font-bold\"\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-full transition duration-300\"\n}, \" Post \", -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.messages, message => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: message.id,\n      class: \"message bg-gray-200 p-2 rounded-lg mb-2\"\n    }, [_createElementVNode(\"p\", _hoisted_4, _toDisplayString(message.username) + \":\", 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString(message.text), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"form\", {\n    onSubmit: _cache[1] || (_cache[1] = _withModifiers((...args) => $options.postMessage && $options.postMessage(...args), [\"prevent\"])),\n    class: \"message-form\"\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.newMessage = $event),\n    placeholder: \"Type your message\",\n    class: \"w-full p-2 border rounded-lg mb-2 focus:outline-none focus:ring-2 focus:ring-blue-600\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newMessage]]), _hoisted_5], 32 /* NEED_HYDRATION */)]);\n}","map":{"version":3,"names":["class","_createElementVNode","type","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_Fragment","_renderList","$data","messages","message","key","id","_hoisted_4","_toDisplayString","username","text","onSubmit","_cache","_withModifiers","args","$options","postMessage","$event","newMessage","placeholder","_hoisted_5"],"sources":["/Users/ag47/virtual-study-group-platfor Design/src/components/DiscussionBoard.vue"],"sourcesContent":["<template>\n  <div class=\"discussion-board\">\n    <h3 class=\"text-2xl font-bold mb-4\">Discussion</h3>\n    <div class=\"messages mb-4\">\n      <div\n        v-for=\"message in messages\"\n        :key=\"message.id\"\n        class=\"message bg-gray-200 p-2 rounded-lg mb-2\"\n      >\n        <p class=\"font-bold\">{{ message.username }}:</p>\n        <p>{{ message.text }}</p>\n      </div>\n    </div>\n    <form @submit.prevent=\"postMessage\" class=\"message-form\">\n      <input\n        type=\"text\"\n        v-model=\"newMessage\"\n        placeholder=\"Type your message\"\n        class=\"w-full p-2 border rounded-lg mb-2 focus:outline-none focus:ring-2 focus:ring-blue-600\"\n      />\n      <button\n        type=\"submit\"\n        class=\"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-full transition duration-300\"\n      >\n        Post\n      </button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { db } from '../firebase';\nimport firebase from 'firebase/compat/app'; // Ensure firebase is imported\n\nexport default {\n  name: 'DiscussionBoard',\n  props: {\n    studyGroupId: String,\n  },\n  data() {\n    return {\n      newMessage: '',\n      messages: [],\n    };\n  },\n  methods: {\n    async postMessage() {\n      if (this.newMessage.trim() === '') return;\n      const message = {\n        username: this.$store.state.user.email,\n        text: this.newMessage,\n        timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n      };\n      try {\n        await db\n          .collection('studyGroups')\n          .doc(this.studyGroupId)\n          .collection('messages')\n          .add(message);\n        this.newMessage = '';\n      } catch (error) {\n        console.error('Error posting message:', error);\n      }\n    },\n    fetchMessages() {\n      db.collection('studyGroups')\n        .doc(this.studyGroupId)\n        .collection('messages')\n        .orderBy('timestamp')\n        .onSnapshot((snapshot) => {\n          this.messages = snapshot.docs.map((doc) => ({\n            id: doc.id,\n            ...doc.data(),\n          }));\n        });\n    },\n  },\n  created() {\n    this.fetchMessages();\n  },\n};\n</script>\n\n<style scoped>\n.discussion-board {\n  max-width: 600px;\n  margin: 0 auto;\n}\n\n.message-form {\n  display: flex;\n  flex-direction: column;\n}\n\n.message {\n  padding: 1em;\n  border-radius: 8px;\n  background-color: #f0f0f0;\n  margin-bottom: 1em;\n}\n\n.message p {\n  margin: 0;\n}\n</style>\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAkB;gEAC3BC,mBAAA,CAAmD;EAA/CD,KAAK,EAAC;AAAyB,GAAC,YAAU;;EACzCA,KAAK,EAAC;AAAe;;EAMnBA,KAAK,EAAC;AAAW;gEAWtBC,mBAAA,CAKS;EAJPC,IAAI,EAAC,QAAQ;EACbF,KAAK,EAAC;GACP,QAED;;uBAxBJG,mBAAA,CA0BM,OA1BNC,UA0BM,GAzBJC,UAAmD,EACnDJ,mBAAA,CASM,OATNK,UASM,I,kBARJH,mBAAA,CAOMI,SAAA,QAXZC,WAAA,CAK0BC,KAAA,CAAAC,QAAQ,EAAnBC,OAAO;yBADhBR,mBAAA,CAOM;MALHS,GAAG,EAAED,OAAO,CAACE,EAAE;MAChBb,KAAK,EAAC;QAENC,mBAAA,CAAgD,KAAhDa,UAAgD,EAAAC,gBAAA,CAAxBJ,OAAO,CAACK,QAAQ,IAAG,GAAC,iBAC5Cf,mBAAA,CAAyB,WAAAc,gBAAA,CAAnBJ,OAAO,CAACM,IAAI,iB;oCAGtBhB,mBAAA,CAaO;IAbAiB,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAbjBC,cAAA,KAAAC,IAAA,KAa2BC,QAAA,CAAAC,WAAA,IAAAD,QAAA,CAAAC,WAAA,IAAAF,IAAA,CAAW;IAAErB,KAAK,EAAC;sBACxCC,mBAAA,CAKE;IAJAC,IAAI,EAAC,MAAM;IAfnB,uBAAAiB,MAAA,QAAAA,MAAA,MAAAK,MAAA,IAgBiBf,KAAA,CAAAgB,UAAU,GAAAD,MAAA;IACnBE,WAAW,EAAC,mBAAmB;IAC/B1B,KAAK,EAAC;iDAFGS,KAAA,CAAAgB,UAAU,E,GAIrBE,UAKS,C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}