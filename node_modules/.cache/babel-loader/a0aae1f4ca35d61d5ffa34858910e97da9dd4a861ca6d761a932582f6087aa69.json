{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-50342ac4\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"discussion-board\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Discussion Board\", -1 /* HOISTED */));\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"message\"\n}, \"Message:\", -1 /* HOISTED */));\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Post Message\", -1 /* HOISTED */));\nconst _hoisted_5 = {\n  key: 0\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", null, \"Messages\", -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"form\", {\n    onSubmit: _cache[1] || (_cache[1] = _withModifiers((...args) => $options.postMessage && $options.postMessage(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", null, [_hoisted_3, _withDirectives(_createElementVNode(\"textarea\", {\n    id: \"message\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.message = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.message]])]), _hoisted_4], 32 /* NEED_HYDRATION */), $data.messages.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_hoisted_6, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.messages, msg => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: msg.id,\n      class: \"message\"\n    }, [_createElementVNode(\"p\", null, _toDisplayString(msg.text), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementVNode","for","type","key","_createElementBlock","_hoisted_1","_hoisted_2","onSubmit","_cache","_withModifiers","args","$options","postMessage","_hoisted_3","id","$event","$data","message","required","_hoisted_4","messages","length","_hoisted_5","_hoisted_6","_Fragment","_renderList","msg","_toDisplayString","text","_createCommentVNode"],"sources":["/Users/ag47/virtual-study-group-platfor copy/src/components/DiscussionBoard.vue"],"sourcesContent":["<template>\n  <div class=\"discussion-board\">\n    <h2>Discussion Board</h2>\n    <form @submit.prevent=\"postMessage\">\n      <div>\n        <label for=\"message\">Message:</label>\n        <textarea id=\"message\" v-model=\"message\" required></textarea>\n      </div>\n      <button type=\"submit\">Post Message</button>\n    </form>\n    <div v-if=\"messages.length > 0\">\n      <h3>Messages</h3>\n      <div v-for=\"msg in messages\" :key=\"msg.id\" class=\"message\">\n        <p>{{ msg.text }}</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { db } from '../firebase';\n\nexport default {\n  name: 'DiscussionBoard',\n  props: ['studyGroupId'],\n  data() {\n    return {\n      message: '',\n      messages: [],\n    };\n  },\n  methods: {\n    async postMessage() {\n      if (!this.message) return;\n\n      const newMessage = {\n        text: this.message,\n        createdAt: new Date(),\n      };\n\n      await db\n        .collection('studyGroups')\n        .doc(this.studyGroupId)\n        .collection('messages')\n        .add(newMessage);\n      this.message = '';\n      this.fetchMessages();\n    },\n    async fetchMessages() {\n      const snapshot = await db\n        .collection('studyGroups')\n        .doc(this.studyGroupId)\n        .collection('messages')\n        .orderBy('createdAt')\n        .get();\n      this.messages = snapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...doc.data(),\n      }));\n    },\n  },\n  created() {\n    this.fetchMessages();\n  },\n};\n</script>\n\n<style scoped>\n.discussion-board {\n  padding: 2em;\n}\n.message {\n  margin-bottom: 1em;\n  padding: 1em;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n}\n</style>\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAkB;gEAC3BC,mBAAA,CAAyB,YAArB,kBAAgB;gEAGhBA,mBAAA,CAAqC;EAA9BC,GAAG,EAAC;AAAS,GAAC,UAAQ;gEAG/BD,mBAAA,CAA2C;EAAnCE,IAAI,EAAC;AAAQ,GAAC,cAAY;;EARxCC,GAAA;AAAA;gEAWMH,mBAAA,CAAiB,YAAb,UAAQ;;uBAVhBI,mBAAA,CAeM,OAfNC,UAeM,GAdJC,UAAyB,EACzBN,mBAAA,CAMO;IANAO,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAHjBC,cAAA,KAAAC,IAAA,KAG2BC,QAAA,CAAAC,WAAA,IAAAD,QAAA,CAAAC,WAAA,IAAAF,IAAA,CAAW;MAChCV,mBAAA,CAGM,cAFJa,UAAqC,E,gBACrCb,mBAAA,CAA6D;IAAnDc,EAAE,EAAC,SAAS;IAN9B,uBAAAN,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAMwCC,KAAA,CAAAC,OAAO,GAAAF,MAAA;IAAEG,QAAQ,EAAR;iDAATF,KAAA,CAAAC,OAAO,E,KAEzCE,UAA2C,C,4BAElCH,KAAA,CAAAI,QAAQ,CAACC,MAAM,Q,cAA1BjB,mBAAA,CAKM,OAfVkB,UAAA,GAWMC,UAAiB,G,kBACjBnB,mBAAA,CAEMoB,SAAA,QAdZC,WAAA,CAYyBT,KAAA,CAAAI,QAAQ,EAAfM,GAAG;yBAAftB,mBAAA,CAEM;MAFwBD,GAAG,EAAEuB,GAAG,CAACZ,EAAE;MAAEf,KAAK,EAAC;QAC/CC,mBAAA,CAAqB,WAAA2B,gBAAA,CAAfD,GAAG,CAACE,IAAI,iB;sCAbtBC,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}