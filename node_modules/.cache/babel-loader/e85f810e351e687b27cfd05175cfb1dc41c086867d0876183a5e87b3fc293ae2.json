{"ast":null,"code":"import DiscussionBoard from '../components/DiscussionBoard.vue';\nimport ResourceShare from '../components/ResourceShare.vue';\nimport { db } from '../firebase';\nexport default {\n  name: 'StudyGroup',\n  components: {\n    DiscussionBoard,\n    ResourceShare\n  },\n  data() {\n    return {\n      groupId: this.$route.params.id,\n      studyGroup: {},\n      pin: '',\n      showPinPrompt: true\n    };\n  },\n  computed: {\n    authError() {\n      return this.$store.state.authError;\n    }\n  },\n  methods: {\n    async toggleCamera() {\n      if (!this.videoStream) {\n        try {\n          this.videoStream = await navigator.mediaDevices.getUserMedia({\n            video: true\n          });\n          const videoElement = document.getElementById('video');\n          videoElement.srcObject = this.videoStream;\n        } catch (error) {\n          console.error('Error accessing camera:', error);\n        }\n      } else {\n        this.videoStream.getTracks().forEach(track => track.stop());\n        this.videoStream = null;\n      }\n    },\n    async toggleMicrophone() {\n      if (!this.audioStream) {\n        try {\n          this.audioStream = await navigator.mediaDevices.getUserMedia({\n            audio: true\n          });\n          const audioElement = document.getElementById('audio');\n          audioElement.srcObject = this.audioStream;\n        } catch (error) {\n          console.error('Error accessing microphone:', error);\n        }\n      } else {\n        this.audioStream.getTracks().forEach(track => track.stop());\n        this.audioStream = null;\n      }\n    },\n    async fetchStudyGroup() {\n      try {\n        const groupDoc = await db.collection('studyGroups').doc(this.groupId).get();\n        this.studyGroup = groupDoc.data();\n      } catch (error) {\n        console.error('Error fetching study group:', error);\n      }\n    },\n    joinGroup() {\n      this.$store.dispatch('joinStudyGroup', {\n        groupId: this.groupId,\n        pin: this.pin\n      }).then(() => {\n        if (!this.authError) {\n          this.showPinPrompt = false;\n        }\n      });\n    }\n  },\n  created() {\n    this.fetchStudyGroup();\n  }\n};","map":{"version":3,"names":["DiscussionBoard","ResourceShare","db","name","components","data","groupId","$route","params","id","studyGroup","pin","showPinPrompt","computed","authError","$store","state","methods","toggleCamera","videoStream","navigator","mediaDevices","getUserMedia","video","videoElement","document","getElementById","srcObject","error","console","getTracks","forEach","track","stop","toggleMicrophone","audioStream","audio","audioElement","fetchStudyGroup","groupDoc","collection","doc","get","joinGroup","dispatch","then","created"],"sources":["/Users/ag47/virtual-study-group-platfor Design/src/views/StudyGroup.vue"],"sourcesContent":["<template>\n  <div\n    class=\"study-group-page bg-white shadow-lg rounded-lg p-8 m-4 max-w-4xl mx-auto\"\n  >\n    <h2 class=\"text-3xl font-bold mb-4\">{{ studyGroup.name }}</h2>\n    <div class=\"video-container mb-4\">\n      <video id=\"video\" class=\"w-full rounded-lg\" autoplay playsinline></video>\n      <audio id=\"audio\" autoplay></audio>\n    </div>\n    <div class=\"controls mb-4\">\n      <button\n        @click=\"toggleCamera\"\n        class=\"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-full transition duration-300\"\n      >\n        Toggle Camera\n      </button>\n      <button\n        @click=\"toggleMicrophone\"\n        class=\"ml-4 bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-full transition duration-300\"\n      >\n        Toggle Microphone\n      </button>\n    </div>\n    <div\n      v-if=\"showPinPrompt\"\n      class=\"pin-prompt bg-gray-100 p-4 rounded-lg shadow-md\"\n    >\n      <label for=\"pin\" class=\"block text-gray-700\">Enter Pin:</label>\n      <input\n        type=\"text\"\n        id=\"pin\"\n        v-model=\"pin\"\n        class=\"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600\"\n      />\n      <button\n        @click=\"joinGroup\"\n        class=\"mt-2 bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-full transition duration-300\"\n      >\n        Join Group\n      </button>\n      <div v-if=\"authError\" class=\"auth-error text-red-500 mt-2\">\n        {{ authError }}\n      </div>\n    </div>\n    <div v-else class=\"content flex flex-col md:flex-row\">\n      <DiscussionBoard\n        :studyGroupId=\"groupId\"\n        class=\"flex-1 mb-4 md:mb-0 md:mr-4\"\n      />\n      <ResourceShare :studyGroupId=\"groupId\" class=\"flex-1\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport DiscussionBoard from '../components/DiscussionBoard.vue';\nimport ResourceShare from '../components/ResourceShare.vue';\nimport { db } from '../firebase';\n\nexport default {\n  name: 'StudyGroup',\n  components: {\n    DiscussionBoard,\n    ResourceShare,\n  },\n  data() {\n    return {\n      groupId: this.$route.params.id,\n      studyGroup: {},\n      pin: '',\n      showPinPrompt: true,\n    };\n  },\n  computed: {\n    authError() {\n      return this.$store.state.authError;\n    },\n  },\n  methods: {\n    async toggleCamera() {\n      if (!this.videoStream) {\n        try {\n          this.videoStream = await navigator.mediaDevices.getUserMedia({\n            video: true,\n          });\n          const videoElement = document.getElementById('video');\n          videoElement.srcObject = this.videoStream;\n        } catch (error) {\n          console.error('Error accessing camera:', error);\n        }\n      } else {\n        this.videoStream.getTracks().forEach((track) => track.stop());\n        this.videoStream = null;\n      }\n    },\n    async toggleMicrophone() {\n      if (!this.audioStream) {\n        try {\n          this.audioStream = await navigator.mediaDevices.getUserMedia({\n            audio: true,\n          });\n          const audioElement = document.getElementById('audio');\n          audioElement.srcObject = this.audioStream;\n        } catch (error) {\n          console.error('Error accessing microphone:', error);\n        }\n      } else {\n        this.audioStream.getTracks().forEach((track) => track.stop());\n        this.audioStream = null;\n      }\n    },\n    async fetchStudyGroup() {\n      try {\n        const groupDoc = await db\n          .collection('studyGroups')\n          .doc(this.groupId)\n          .get();\n        this.studyGroup = groupDoc.data();\n      } catch (error) {\n        console.error('Error fetching study group:', error);\n      }\n    },\n    joinGroup() {\n      this.$store\n        .dispatch('joinStudyGroup', { groupId: this.groupId, pin: this.pin })\n        .then(() => {\n          if (!this.authError) {\n            this.showPinPrompt = false;\n          }\n        });\n    },\n  },\n  created() {\n    this.fetchStudyGroup();\n  },\n};\n</script>\n\n<style scoped>\n.study-group-page {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 2em;\n}\n\n.video-container {\n  width: 100%;\n  max-width: 600px;\n  margin-bottom: 1em;\n  position: relative;\n}\n\nvideo {\n  width: 100%;\n  border-radius: 8px;\n}\n\n.controls {\n  margin-bottom: 1em;\n}\n\n.content {\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  max-width: 1200px;\n}\n\n.discussion-board,\n.resource-share {\n  flex: 1;\n  margin: 0 1em;\n}\n\n.pin-prompt {\n  margin-top: 1em;\n}\n\n.auth-error {\n  color: red;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}